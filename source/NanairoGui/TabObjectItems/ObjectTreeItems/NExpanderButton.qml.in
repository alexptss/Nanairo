/*!
  \file NExpanderButton.qml
  \author Sho Ikeda

  Copyright (c) 2015-2016 Sho Ikeda
  This software is released under the MIT License.
  http://opensource.org/licenses/mit-license.php
  */

import QtQuick @qt_quick_version@
import QtQuick.Controls @qt_quick_controls_version@
import QtQuick.Controls.Styles @qt_quick_controls_style_version@

Button {
  id: expander_button

  readonly property bool isGroupObject: (model.type == "@groupObject@")
  readonly property int buttonSize: @object_tree_item_height@
  property var objectTree: null
  property color backgroundColor

  width: buttonSize
  height: buttonSize
  style: button_style

  enabled: isGroupObject

  rotation: model.expanded ? 90.0
                           : 0.0
  iconName: qsTr("Expander")
  iconSource: isGroupObject ?  enabled ? "../../image/expander.png"
                                       : "../../image/expander_disabled.png"
                            : ""

  onClicked: {
    model.expanded = !model.expanded;
    objectTree.updateItemVisible();
  }

  Component {
    id: button_style
    ButtonStyle {
      background: Rectangle {
        color: expander_button.backgroundColor
      }
    }
  }
}
